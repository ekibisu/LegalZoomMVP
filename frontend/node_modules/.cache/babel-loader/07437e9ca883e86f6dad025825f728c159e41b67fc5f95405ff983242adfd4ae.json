{"ast":null,"code":"var _jsxFileName = \"C:\\\\workspaces\\\\LegalZoomMVP\\\\frontend\\\\src\\\\PaymentContext.js\",\n  _s = $RefreshSig$();\nimport React, { createContext, useContext } from 'react';\nimport { loadStripe } from '@stripe/stripe-js';\nimport { paymentAPI } from '../services/api';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PaymentContext = /*#__PURE__*/createContext();\nexport function usePayment() {\n  _s();\n  const context = useContext(PaymentContext);\n  if (!context) {\n    throw new Error('usePayment must be used within a PaymentProvider');\n  }\n  return context;\n}\n_s(usePayment, \"b9L3QQ+jgeyIrH0NfHrJ8nn7VMU=\");\nexport function PaymentProvider({\n  children\n}) {\n  const purchaseForm = async formTemplateId => {\n    try {\n      const session = await paymentAPI.createCheckoutSession({\n        formTemplateId\n      });\n      const stripe = await loadStripe(session.publishableKey);\n      const result = await stripe.redirectToCheckout({\n        sessionId: session.sessionId\n      });\n      if (result.error) {\n        throw new Error(result.error.message);\n      }\n    } catch (error) {\n      throw error;\n    }\n  };\n  const subscribe = async subscriptionPlan => {\n    try {\n      const session = await paymentAPI.createCheckoutSession({\n        subscriptionPlan\n      });\n      const stripe = await loadStripe(session.publishableKey);\n      const result = await stripe.redirectToCheckout({\n        sessionId: session.sessionId\n      });\n      if (result.error) {\n        throw new Error(result.error.message);\n      }\n    } catch (error) {\n      throw error;\n    }\n  };\n  const value = {\n    purchaseForm,\n    subscribe\n  };\n  return /*#__PURE__*/_jsxDEV(PaymentContext.Provider, {\n    value: value,\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n_c = PaymentProvider;\nvar _c;\n$RefreshReg$(_c, \"PaymentProvider\");","map":{"version":3,"names":["React","createContext","useContext","loadStripe","paymentAPI","jsxDEV","_jsxDEV","PaymentContext","usePayment","_s","context","Error","PaymentProvider","children","purchaseForm","formTemplateId","session","createCheckoutSession","stripe","publishableKey","result","redirectToCheckout","sessionId","error","message","subscribe","subscriptionPlan","value","Provider","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/workspaces/LegalZoomMVP/frontend/src/PaymentContext.js"],"sourcesContent":["import React, { createContext, useContext } from 'react';\r\nimport { loadStripe } from '@stripe/stripe-js';\r\nimport { paymentAPI } from '../services/api';\r\n\r\nconst PaymentContext = createContext();\r\n\r\nexport function usePayment() {\r\n  const context = useContext(PaymentContext);\r\n  if (!context) {\r\n    throw new Error('usePayment must be used within a PaymentProvider');\r\n  }\r\n  return context;\r\n}\r\n\r\nexport function PaymentProvider({ children }) {\r\n  const purchaseForm = async (formTemplateId) => {\r\n    try {\r\n      const session = await paymentAPI.createCheckoutSession({ formTemplateId });\r\n      const stripe = await loadStripe(session.publishableKey);\r\n      \r\n      const result = await stripe.redirectToCheckout({\r\n        sessionId: session.sessionId\r\n      });\r\n\r\n      if (result.error) {\r\n        throw new Error(result.error.message);\r\n      }\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const subscribe = async (subscriptionPlan) => {\r\n    try {\r\n      const session = await paymentAPI.createCheckoutSession({ subscriptionPlan });\r\n      const stripe = await loadStripe(session.publishableKey);\r\n      \r\n      const result = await stripe.redirectToCheckout({\r\n        sessionId: session.sessionId\r\n      });\r\n\r\n      if (result.error) {\r\n        throw new Error(result.error.message);\r\n      }\r\n    } catch (error) {\r\n      throw error;\r\n    }\r\n  };\r\n\r\n  const value = {\r\n    purchaseForm,\r\n    subscribe\r\n  };\r\n\r\n  return (\r\n    <PaymentContext.Provider value={value}>\r\n      {children}\r\n    </PaymentContext.Provider>\r\n  );\r\n}\r\n"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,aAAa,EAAEC,UAAU,QAAQ,OAAO;AACxD,SAASC,UAAU,QAAQ,mBAAmB;AAC9C,SAASC,UAAU,QAAQ,iBAAiB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE7C,MAAMC,cAAc,gBAAGN,aAAa,CAAC,CAAC;AAEtC,OAAO,SAASO,UAAUA,CAAA,EAAG;EAAAC,EAAA;EAC3B,MAAMC,OAAO,GAAGR,UAAU,CAACK,cAAc,CAAC;EAC1C,IAAI,CAACG,OAAO,EAAE;IACZ,MAAM,IAAIC,KAAK,CAAC,kDAAkD,CAAC;EACrE;EACA,OAAOD,OAAO;AAChB;AAACD,EAAA,CANeD,UAAU;AAQ1B,OAAO,SAASI,eAAeA,CAAC;EAAEC;AAAS,CAAC,EAAE;EAC5C,MAAMC,YAAY,GAAG,MAAOC,cAAc,IAAK;IAC7C,IAAI;MACF,MAAMC,OAAO,GAAG,MAAMZ,UAAU,CAACa,qBAAqB,CAAC;QAAEF;MAAe,CAAC,CAAC;MAC1E,MAAMG,MAAM,GAAG,MAAMf,UAAU,CAACa,OAAO,CAACG,cAAc,CAAC;MAEvD,MAAMC,MAAM,GAAG,MAAMF,MAAM,CAACG,kBAAkB,CAAC;QAC7CC,SAAS,EAAEN,OAAO,CAACM;MACrB,CAAC,CAAC;MAEF,IAAIF,MAAM,CAACG,KAAK,EAAE;QAChB,MAAM,IAAIZ,KAAK,CAACS,MAAM,CAACG,KAAK,CAACC,OAAO,CAAC;MACvC;IACF,CAAC,CAAC,OAAOD,KAAK,EAAE;MACd,MAAMA,KAAK;IACb;EACF,CAAC;EAED,MAAME,SAAS,GAAG,MAAOC,gBAAgB,IAAK;IAC5C,IAAI;MACF,MAAMV,OAAO,GAAG,MAAMZ,UAAU,CAACa,qBAAqB,CAAC;QAAES;MAAiB,CAAC,CAAC;MAC5E,MAAMR,MAAM,GAAG,MAAMf,UAAU,CAACa,OAAO,CAACG,cAAc,CAAC;MAEvD,MAAMC,MAAM,GAAG,MAAMF,MAAM,CAACG,kBAAkB,CAAC;QAC7CC,SAAS,EAAEN,OAAO,CAACM;MACrB,CAAC,CAAC;MAEF,IAAIF,MAAM,CAACG,KAAK,EAAE;QAChB,MAAM,IAAIZ,KAAK,CAACS,MAAM,CAACG,KAAK,CAACC,OAAO,CAAC;MACvC;IACF,CAAC,CAAC,OAAOD,KAAK,EAAE;MACd,MAAMA,KAAK;IACb;EACF,CAAC;EAED,MAAMI,KAAK,GAAG;IACZb,YAAY;IACZW;EACF,CAAC;EAED,oBACEnB,OAAA,CAACC,cAAc,CAACqB,QAAQ;IAACD,KAAK,EAAEA,KAAM;IAAAd,QAAA,EACnCA;EAAQ;IAAAgB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACc,CAAC;AAE9B;AAACC,EAAA,GA7CerB,eAAe;AAAA,IAAAqB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}